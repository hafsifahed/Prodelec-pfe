<div class="discussion-list">
  <div class="list-header">
    <h2>Discussions</h2>
    <div class="search-box">
      <i class="fas fa-search"></i>
      <input type="text" placeholder="Search...">
    </div>
  </div>

  <div class="list-content">
    <div class="loader" *ngIf="isLoading">Loading...</div>
    <div class="error-state" *ngIf="error">
      <i class="fas fa-exclamation-triangle"></i>
      <p>Failed to load discussions.</p>
      <button (click)="loadDiscussions()">Retry</button>
    </div>
    <div class="empty-list" *ngIf="!isLoading && !error && discussions.length === 0">
      <i class="fas fa-inbox"></i>
      <p>No discussions found.</p>
    </div>

    <div class="discussion-items">
      <div 
        *ngFor="let discussion of discussions"
        class="discussion-item"
        [class.active]="discussion.id === selectedDiscussionId"
        (click)="discussionSelected.emit(discussion.id)"
      >
        <div class="item-avatar">
          <div class="phase-indicator" [ngClass]="discussion.currentPhase"></div>
        </div>
        
        <div class="item-content">
          <div class="item-header">
            <h4>{{ getDiscussionTitle(discussion) }}</h4>
            <span class="item-time">{{ discussion.createdAt | date:'shortDate' }}</span>
          </div>
          <div class="item-preview">
            {{ getLastMessagePreview(discussion) }}
          </div>
          <div class="item-footer">
            <span class="badge" [ngClass]="discussion.currentPhase">
              {{ discussion.currentPhase | uppercase }}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>